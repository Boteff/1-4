<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Random Color Generator</title>

<style>
body {
  background:#121212;
  color:#fff;
  font-family:Arial, sans-serif;
  text-align:center;
  padding:20px;
}

.controls, .input-group {
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
  margin:15px 0;
}

.toggle-btn {
  padding:8px 12px;
  background:#333;
  color:white;
  border:1px solid #555;
  cursor:pointer;
  border-radius:4px;
}
.toggle-btn.active { background:#007acc; }

input, select {
  background:#333;
  color:white;
  border:1px solid #555;
  border-radius:4px;
  padding:6px;
  width:70px;
}

button {
  padding:10px 20px;
  background:#007acc;
  color:white;
  border:none;
  border-radius:4px;
  cursor:pointer;
}
button:hover { background:#005a99; }

#colorList {
  max-width:600px;
  margin:20px auto;
  list-style:none;
  padding:0;
}
.color-item {
  display:flex;
  align-items:center;
  gap:15px;
  background:#1a1a1a;
  padding:10px;
  border-radius:6px;
}
.color-swatch {
  width:40px;
  height:40px;
  border:1px solid #444;
}
.color-value {
  font-family:monospace;
  font-weight:bold;
}
.hsb-row {
  display:flex;
  justify-content:center;
  gap:8px;
  margin:5px 0;
}
</style>
</head>

<body>

<h1>Random Color Generator</h1>

<div class="controls">
  <button id="hexBtn" class="toggle-btn">HEX</button>
  <button id="rgbBtn" class="toggle-btn">RGB</button>
  <button id="hsbBtn" class="toggle-btn active">HSB</button>
</div>

<div class="input-group">
  Generate
  <input type="number" id="countInput" value="1" min="1" max="100">
  colors
</div>

<!-- HSB CONTROLS -->
<div id="hsbControls">

  <div class="hsb-row">
    H
    <select id="hMode">
      <option value="any">Any</option>
      <option value="range">Range</option>
      <option value="lock">Lock</option>
    </select>
    <input id="hMin" placeholder="min">
    <input id="hMax" placeholder="max">
  </div>

  <div class="hsb-row">
    S
    <select id="sMode">
      <option value="any">Any</option>
      <option value="range">Range</option>
      <option value="lock">Lock</option>
    </select>
    <input id="sMin" placeholder="min">
    <input id="sMax" placeholder="max">
  </div>

  <div class="hsb-row">
    B
    <select id="bMode">
      <option value="any">Any</option>
      <option value="range">Range</option>
      <option value="lock">Lock</option>
    </select>
    <input id="bMin" placeholder="min">
    <input id="bMax" placeholder="max">
  </div>

</div>

<button onclick="generateColors()">Generate</button>
<button onclick="resetColors()">Reset</button>

<ul id="colorList"></ul>
<p id="pickedColors">Picked Colors: 0</p>

<script>
const hexBtn = document.getElementById('hexBtn');
const rgbBtn = document.getElementById('rgbBtn');
const hsbBtn = document.getElementById('hsbBtn');
const colorList = document.getElementById('colorList');
const pickedEl = document.getElementById('pickedColors');
let displayMode = 'HSB';
let pickedColors = [];

[hexBtn, rgbBtn, hsbBtn].forEach(btn=>{
  btn.onclick=()=>{
    [hexBtn,rgbBtn,hsbBtn].forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    displayMode = btn.id === 'hexBtn' ? 'HEX' : btn.id === 'rgbBtn' ? 'RGB' : 'HSB';
  };
});

function getValue(mode,min,max,maxLimit){
  if(mode==='any') return rand(0,maxLimit);
  if(mode==='lock') return clamp(Number(min),0,maxLimit);
  return rand(Number(min),Number(max));
}

function generateColors(){
  colorList.innerHTML='';
  const count = Number(document.getElementById('countInput').value)||1;

  for(let i=0;i<count;i++){
    let h = getValue(hMode.value,hMin.value,hMax.value,360);
    let s = getValue(sMode.value,sMin.value,sMax.value,100);
    let b = getValue(bMode.value,bMin.value,bMax.value,100);

    let rgb = hsbToRgb(h,s,b);
    let hex = rgbToHex(rgb.r,rgb.g,rgb.b);

    let text = displayMode==='HEX'?hex:
               displayMode==='RGB'?`RGB(${rgb.r},${rgb.g},${rgb.b})`:
               `HSB(${h}Â°,${s}%,${b}%)`;

    colorList.innerHTML+=`
      <li class="color-item">
        <div class="color-swatch" style="background:${hex}"></div>
        <span class="color-value">${text}</span>
      </li>`;
    pickedColors.push(hex);
  }
  pickedEl.textContent=`Picked Colors: ${pickedColors.length}`;
}

function resetColors(){
  pickedColors=[];
  colorList.innerHTML='';
  pickedEl.textContent='Picked Colors: 0';
}

function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
function clamp(v,min,max){return Math.min(max,Math.max(min,v));}

function rgbToHex(r,g,b){
  return '#'+[r,g,b].map(x=>x.toString(16).padStart(2,'0')).join('').toUpperCase();
}

function hsbToRgb(h,s,b){
  s/=100; b/=100;
  let c=b*s;
  let x=c*(1-Math.abs((h/60)%2-1));
  let m=b-c;
  let [r,g,l]=
    h<60?[c,x,0]:
    h<120?[x,c,0]:
    h<180?[0,c,x]:
    h<240?[0,x,c]:
    h<300?[x,0,c]:
    [c,0,x];
  return {
    r:Math.round((r+m)*255),
    g:Math.round((g+m)*255),
    b:Math.round((l+m)*255)
  };
}
</script>

</body>
</html>